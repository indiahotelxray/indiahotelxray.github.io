<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Evan Heisman's Web Log | DDS-60 Signal Generator and VFO</title>
    <link rel="shortcut icon" type="image/png" href="https://www.indiahotelxray.org/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://www.indiahotelxray.org/favicon.ico">
    <link href="https://www.indiahotelxray.org/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Evan Heisman's Web Log Full RSS Feed" />
    <link href="https://www.indiahotelxray.org/feeds/radio.rss.xml" type="application/rss+xml" rel="alternate" title="Evan Heisman's Web Log Categories RSS Feed" />
    <link rel="stylesheet" href="https://www.indiahotelxray.org/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://www.indiahotelxray.org/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="eheisman" />
    <meta property="og:title" content="DDS-60 Signal Generator and VFO" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://www.indiahotelxray.org\photos\vfo_case_insidea.jpg" />
    <meta property="og:url" content="https://www.indiahotelxray.org\drafts/dds-60-signal-generator-and-vfo.html" />
    <meta property="og:description" content="Purpose I bought a DDS-60 VFO board from Midnight Design Solutions almost a decade ago, with the intent of using it to build a HF antenna analyzer. I built an Arduino shield to hold it, but never got around to the RF power meters required to use it as an â€¦" />
    <meta property="og:site_name" content="Evan Heisman&#39;s Web Log" />
    <meta property="article:published_time" content="2022-02-06" />
    <meta property="article:section" content="radio" />
  

</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="whats-here.html">about</a></li>
                <li><a href="https://github.com/indiahotelxray">github</a></li>
                <li><a href="https://twitter.com/evanheisman">twitter</a></li>
                <li><a href="https://www.indiahotelxray.org/categories">categories</a></li>
                <li><a href="https://www.indiahotelxray.org/archives">archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://www.indiahotelxray.org/">Evan Heisman's Web Log</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Feb 06, 2022</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://www.indiahotelxray.org/drafts/dds-60-signal-generator-and-vfo.html" rel="bookmark" title="Permanent Link to &quot;DDS-60 Signal Generator and VFO&quot;">DDS-60 Signal Generator and VFO</a>
                </h2>

                
                

                <h2>Purpose</h2>
<p>I bought a DDS-60 VFO board from <a class="external" href="https://midnightdesignsolutions.com/dds60/">Midnight Design Solutions</a> almost a decade ago, with the intent of using it to build a HF antenna analyzer.  I built an Arduino shield to hold it, but never got around to the RF power meters required to use it as an antenna analyzer.  </p>
<p>In the summer of 2020, during wildfire season and sociall distancing due to COVID, I was assembling a <a class="external" href="https://qrpkits.com/tribander.html">KD1JV Tri-Bander CW tranceiver kit</a> that a neighbor had bought and not finished.  I am not sure that the upper and lower band filters were working correctly, as the radio was totally deaf and putting out zero power.  I briefly got out the Arduino DDS-60 sheild that I had built to help diagnose the issue, and <a class="external" href="https://github.com/indiahotelxray/dds60-siggen">wrote a control program</a> to switch between bands.</p>
<h2>Details</h2>
<p>The front panel has room for two buttons, a rotary encoder with a push button built in, and the display.  The two buttons and push button on the rotary encoder.  On the rear panel, the Arduino's USB port and power supply are available, along with three of the analog pins broken out with RCA connectors for future use.</p>
<p>I designed four modes for the device, selectable by using one of the push buttons.</p>
<ul>
<li>Signal Generator: Produces a output at a single frequency.</li>
<li>Sweep: Sweeps across a range of frequencies automatically.</li>
<li>VFO: same as signal generator mode, but limited to ham bands, with a button to jump between bands.</li>
<li>Memory: recalls specific frequencies from the EEPROM.  These can be saved via a serial protocol (untested).</li>
</ul>
<p>The rotary encoder changes the frequency, or the start for the sweep mode.  Pressing the button on the rotary encoder changes the step size when the encoder is turned.</p>
<p>The second push button can provide an additional function for each mode.  In VFO mode, it switches bands, while in signal generator mode, it increments the frequency by 1 MHz.</p>
<h2>Current State</h2>
<p>A couple of months ago, my ham neighbor who gave me the tranceiver kit was also clearing out his shack and gave me a number of items, including an old serial port switch that was just the right size to turn into a case.   This box came with front and back panels that could be removed entirely from the case, making them particularly easy to work with, and I initially had planned to just flip them around to hide the text.  I manually laid out the panels by tracing the panels on a sheet of paper and then trying to trace the components in their locations, trying to reuse or expand existing holes where possible.</p>
<p>The holes I drilled are sloppy, as I am not much of a machinist, but they'll work for this.  Particularly cutting out the square hole for the screen was difficult, using a dremel tool cut-off blade to quite a while.  After drilling, I took a light grinding bit and buffing bit to clean up any sharp edges.</p>
<p>I  spray-painted the panels a black paint that I had sitting around, unfortunately, it beads up to create a hammered metal look, and that resulted in a splotchy looking finish.  Maybe not the best look for this panel, but it's the paint I had on hand and was better than the scratched up white paint from my amateur machining.</p>
<p><img alt="vfo case inside after painting" src="https://www.indiahotelxray.org\photos\vfo_case_insidea.jpg"></p>
<p>Before adding leads to the components, I test fit it all in the case.  At this point, I managed to mess up the finish a tiny bit by needing to drill an additional hole for the pin that keeps the rotary encoder in place.</p>
<p><img alt="vfo case layout test" src="https://www.indiahotelxray.org\photos\vfo_case_layouta.jpg"></p>
<p><img alt="vfo case test assembled" src="https://www.indiahotelxray.org\photos\vfo_case_assembeled_offa.jpg"></p>
<h3>Additional hardware</h3>
<p>I need to finish wiring up the display, buttons, and rotary encoder.  It appears that Arduino has built in pull-up resistors, so wiring the buttons should be a matter of connecting to a digital pin and ground.</p>
<h2>Software changes to make.</h2>
<p>The Arduino sketch I am using resides on my <a class="external" href="https://github.com/indiahotelxray/dds60-siggen">github account here</a>.  I've started fixing some things now that I plan to actually put it into a case, not just use it as a breadboard and mess of wires.</p>
<h3>Rotary encoder</h3>
<p>I need to try using one of the Arduino rotary encoder libraries.  I had not tested with the rotary encoder yet, just a pair of pushbuttons and assumed the rotary encoder would behave the same.  This appears to not be the case.</p>
<h3>Display library</h3>
<p>I need to test this software with the display I am using.  Before having a case for this, I had burned out the Adafruit SSD1306 I2C OLED display I was using.  To complete the project, I switched to a standard HD44780-style display I had laying around.  This will require quite a few more pins to control, and need to switch out the library used.  On the other hand, this appears to save significant memory space, as the Adafruit OLED board used a buffer in memory instead of sending text to the display.</p>
<h3>Fixing warnings</h3>
<p>Much of the functionality beyond the basic signal generator function has not been thoroughly tested, and after my most recent look at the code, I saw it was generating an error about copying the memory string name and a bunch of type conversion warnings.  These took a few minutes to fix after googling to fill in my lack of C++ knowledge.  There is still one warning about an unusued variable for the maximum memory slot, which I'll need to go back and ensure the memory mode loops through frequencies correctly.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://www.indiahotelxray.org/drafts/dds-60-signal-generator-and-vfo.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="https://www.indiahotelxray.org/category/radio.html" rel="tag">radio</a>
                </div>
            </article>
            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://www.indiahotelxray.org/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>